/**
 * This file has been autogenerated using the command:
 *
 *    yarn run swizzle @docusaurus/theme-classic prism-include-languages
 *
 * See docs for more info: https://v2.docusaurus.io/docs/markdown-features#syntax-highlighting
 *
 * We need this to add a custom code block type for rasa training data. Please do not
 * modify this file except between the '// start|end of custom code blocks' comments.
 */
import ExecutionEnvironment from '@docusaurus/ExecutionEnvironment';
import siteConfig from '@generated/docusaurus.config';

const prismIncludeLanguages = (PrismObject) => {
  if (ExecutionEnvironment.canUseDOM) {
    const {
      themeConfig: {prism: {additionalLanguages = []} = {}},
    } = siteConfig;
    window.Prism = PrismObject;

    additionalLanguages.forEach((lang) => {
      require(`prismjs/components/prism-${lang}`); // eslint-disable-line
    });

    // start of custom code blocks
    PrismObject.languages['yaml-rasa'] = PrismObject.languages['yml-rasa'] = PrismObject.languages.yaml;
    // end of custom code blocks

    delete window.Prism;
  }
};

export default prismIncludeLanguages;
